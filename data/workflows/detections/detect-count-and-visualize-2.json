{
    "version": "1.0",
    "inputs": [
      {
        "type": "InferenceImage",
        "name": "image"
      }
    ],
    "steps": [
      {
        "type": "roboflow_core/roboflow_object_detection_model@v1",
        "name": "model",
        "images": "$inputs.image",
        "model_id": "rfdetr-nano"
      },
      {
        "type": "roboflow_core/bounding_box_visualization@v1",
        "name": "detection_visualization",
        "image": "$inputs.image",
        "predictions": "$steps.model.predictions"
      },
      {
        "type": "roboflow_core/property_definition@v1",
        "name": "count_objects",
        "data": "$steps.model.predictions",
        "operations": [
          {
            "type": "SequenceLength"
          }
        ]
      },
      {
        "type": "roboflow_core/label_visualization@v1",
        "name": "annotated_image",
        "image": "$steps.detection_visualization.image",
        "predictions": "$steps.model.predictions"
      }
    ],
    "outputs": [
      {
        "type": "JsonField",
        "name": "count_objects",
        "coordinates_system": "own",
        "selector": "$steps.count_objects.output"
      },
      {
        "type": "JsonField",
        "name": "visualization",
        "coordinates_system": "own",
        "selector": "$steps.annotated_image.image"
      },
      {
        "type": "JsonField",
        "name": "predictions",
        "coordinates_system": "own",
        "selector": "$steps.model.predictions"
      }
    ]
  }